<div class="container mt-4">
  <h1 class="text-center mb-4">Gerenciamento de Serviços</h1>

  <ul class="nav nav-tabs mb-4" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link" [class.active]="abaAtiva === 'listagem'" (click)="selecionarAba('listagem')"
        type="button" role="tab">
        <i class="bi bi-list-ul me-2"></i>Listar Serviços
      </button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" [class.active]="abaAtiva === 'cadastro'" (click)="novoServico()" type="button"
        role="tab">
        <i class="bi bi-plus-circle me-2"></i>Cadastrar Serviço
      </button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" [class.active]="abaAtiva === 'associacao'" [disabled]="!servicoSelecionado"
        (click)="abaAtiva = 'associacao'" type="button" role="tab">
        <i class="bi bi-link-45deg me-2"></i>Associar Produtos
      </button>
    </li>
  </ul>

  <div class="tab-content">
    @if(abaAtiva === 'listagem') {
    <div class="tab-pane fade show active">
      <app-listar-servicos (editar)="onEditar($event)" (removed)="onRemoved()" (novo)="novoServico()"
        (associar)="onAssociar($event)" [navigateOnAssociate]="false"></app-listar-servicos>
    </div>
    }
    @if(abaAtiva === 'cadastro') {
    <div class="tab-pane fade show active">
      <app-cadastro-servico [servicoEdit]="servicoSelecionado" (saved)="onSaved()"
        (cancelEdit)="selecionarAba('listagem')"></app-cadastro-servico>
    </div>
    }
    @if(abaAtiva === 'associacao') {
    <div class="tab-pane fade show active">
      <app-associacao-produtos-servico [servicoIdInput]="servicoSelecionado?.id"></app-associacao-produtos-servico>
    </div>
    }
  </div>
</div>